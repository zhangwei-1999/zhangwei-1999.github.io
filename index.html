<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wei Zhang's Homepage | ICT, CAS</title>
	<meta name="description" content="Wei Zhang is a PhD student in Institute of Computing Technology, Chinese Academy of Science (ICT, CAS).">
	<meta name="keywords" content="Wei Zhang, CS, PhD, ICT, CAS">
	<meta name="google-site-verification" content="eo1C_ZAjnTic0BbWGkvWGHRa5-g46dUvZ5IvOdfotb4" />
    <link rel="shortcut icon" type="image/png" href="images/logo.ico" />
    
    <style>
        /* åŸºç¡€å…¨å±€æ ·å¼ */
        body {
            /*font-family: 'Segoe UI', 'PingFang SC', sans-serif;*/
            font-family: "Trebuchet MS", Helvetica, sans-serif;
            max-width: 850px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }

        h1, h2, h3 {
	        color: #0c4994;
        }

        h1 {
            font-size: 2.2em;
        }
    
        h2 {
            border-bottom: 2px solid #e8e8e8;
            margin: 40px 0 20px;
            font-size: 1.6em;
        }
    
        a, a > tt {
	        color: #224b8d;
	        text-decoration: none;
        }

        a:hover {
	        border-bottom: 1px gray dotted;
        }
    
        /* å…³é”®ï¼šPublication å·¦å›¾å³å­—è¡¨æ ¼å¸ƒå±€ */
        .pub-table,
        .edu-table {
            width: 100%;
            border-collapse: separate;
            margin: 5px 0;
        }
    
        .pub-table td:first-child,
        .edu-table td:first-child {
            width: 200px;
            /* å›ºå®šå›¾ç‰‡åˆ—å®½åº¦ï¼ˆåŒ¹é… refer.htmlï¼‰ */
            padding-right: 25px;
            vertical-align: middle;
            /* å‚ç›´å±…ä¸­ */
            text-align: center;
            /* æ°´å¹³å±…ä¸­ */
        }
    
        .pub-table td:first-child img {
            width: 200px;
            /* å›ºå®šå›¾ç‰‡å®½åº¦ */
            height: 100px;
            /* å›ºå®šå›¾ç‰‡é«˜åº¦ */
            box-shadow: 4px 4px 8px #888;
            /* é˜´å½±æ•ˆæœ */
        }
    
        .edu-table td:first-child img {
            width: 110px;
            height: 110px;
            display: inline-block;
            vertical-align: middle;
        }
    
        .common-content {
            vertical-align: middle;
            /* å‚ç›´å±…ä¸­ */
        }
    
        .common-text {
            line-height: 1.1;
        }
    
        .common-text i b {
            color: #2c3e50;
        }
    
        .common-text ul {
            list-style-type: none;
            /* å»æ‰é»˜è®¤çš„ç‚¹ */
            padding-left: 0;
            /* æ¶ˆé™¤å·¦ä¾§ç¼©è¿› */
        }

        .image-container {
            position: relative; 
            width: 100%;
            height: 100%;
        }

        /* æœŸåˆŠåç§°æ ‡ç­¾æ ·å¼ */
        .pub-tag {
            position: absolute;
            top: 0;
            left: 0;
            background-color: #0c4994;
            color: white;
            font-size: 13px;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 0 0 4px 0;
            z-index: 10;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        /* æ–°å¢æ‰‹æœºç«¯å“åº”å¼å¸ƒå±€ */
        @media (max-width: 768px) {
            /* é’ˆå¯¹Publicationå’ŒEducationçš„è¡¨æ ¼ */
            .pub-table, .edu-table {
                width: 100%;
            }

            /* è¡¨æ ¼å•å…ƒæ ¼æ”¹ä¸ºå—çº§æ˜¾ç¤º */
            .pub-table td, .edu-table td {
                display: block;
                width: 100% !important; /* è¦†ç›–åŸæœ‰200pxå®½åº¦ */
                padding: 0 !important; /* é‡ç½®å†…è¾¹è· */
            }

            /* è°ƒæ•´å›¾ç‰‡æ ·å¼ */
            .pub-table td:first-child img {
                width: 100%; /* å›¾ç‰‡å®½åº¦å æ»¡å±å¹• */
                height: auto; /* ä¿æŒå®½é«˜æ¯” */
                margin-bottom: 15px; /* å›¾ç‰‡ä¸æ–‡å­—é—´è· */
            }

            .edu-table td:first-child img {
                width: 150px; /* æ•™è‚²èƒŒæ™¯å›¾ç‰‡é€‚å½“ç¼©å° */
                height: 150px;
                margin-bottom: 10px;
            }

            /* æ–‡å­—å†…å®¹è°ƒæ•´ */
            .common-content {
                padding: 0 8px; /* æ–‡å­—å†…å®¹å¢åŠ å†…è¾¹è· */
            }
        }
    </style>
</head>

<body>
    <div id="main-content"></div>

    <!-- Markdown è§£æåº“ -->
    <script src="https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js"></script>
    <script>
        const MARKDOWN_PATH = 'academic.md';

        async function renderPage() {
            try {
                // è¯»å–å¹¶æ¸²æŸ“ Markdown
                const response = await fetch(MARKDOWN_PATH);
                const markdown = await response.text();
                const converter = new showdown.Converter();
                const html = converter.makeHtml(markdown);
                document.getElementById('main-content').innerHTML = html;

                // æ·»åŠ äº¤äº’å’Œå¸ƒå±€å¤„ç†
                /* addInteractions();*/
                processPublications();
                processAnnalysis();
            } catch (error) {
                console.error('Error loading Markdown:', error);
            }
        }

        function processPublications() {
            const mainContent = document.getElementById('main-content');
            const publicationTitles = mainContent.querySelectorAll('h3'); // åŒ¹é… md ä¸­çš„ ### æ ‡é¢˜

            publicationTitles.forEach(title => {
                const imageP = title.nextElementSibling;
                if (!imageP || !imageP.querySelector('img')) return;

                const img = imageP.querySelector('img');
                const list = imageP.nextElementSibling;
                const prefix = img.alt.split('|')[0];

                // åˆ›å»ºè¡¨æ ¼ç»“æ„
                const table = document.createElement('table');
                table.className = `${prefix}-table`;
                const tr = table.insertRow();
                const tdImage = tr.insertCell();
                const tdContent = tr.insertCell();
                tdContent.className = 'common-content';

                // å¡«å……å›¾ç‰‡åˆ—
                const imgContainer = document.createElement('div');
                imgContainer.className = 'image-container';
                imgContainer.appendChild(img.cloneNode(true));

                // æ·»åŠ å‡ºç‰ˆç‰©æ ‡ç­¾
                if(prefix === 'pub' && img.alt.split('|').length > 2){
                    const pubTag = document.createElement('div');
                    pubTag.className = `pub-tag`;
                    pubTag.textContent = img.alt.split('|')[1];
                    imgContainer.appendChild(pubTag);
                }
                
                tdImage.appendChild(imgContainer);
                imageP.remove();

                // å¡«å……æ–‡å­—å†…å®¹
                const contentDiv = document.createElement('div');
                contentDiv.className = 'common-text';
                contentDiv.appendChild(list);

                tdContent.appendChild(contentDiv);

                // æ›¿æ¢åŸæ ‡é¢˜å’Œå†…å®¹
                title.parentNode.replaceChild(table, title);
            });
        }

        function processAnnalysis() {
            fetch('scripts/scholar.json')
                .then(response => response.json())
                .then(data => {
                    console.info(data)
                    document.querySelectorAll('img').forEach(img => {
                        const href = img.parentNode.href;
                        if (href && (href.includes('github') || href.includes('scholar'))) {
                            img.style = "height: 1em;"
                        }
                        if (href && href.includes('scholar')) {
                            const badge = href.match(/citation_for_view=([^&]+)/)
                            if (badge) {
                                const badgeId = badge[1];
                                //const num_citation = data['publications'][badgeId]['num_citations']
                                const num_citation = data?.publications?.[badgeId]?.num_citations ?? 0;
                                img.src = `https://img.shields.io/badge/Citations-${num_citation}-blue.svg?logo=google-scholar`;
                                img.parentNode.href = `https://scholar.google.com/citations?view_op=view_citation&citation_for_view=${badgeId}`;
                            }
                            else {
                                const num_citation = data['citedby']
                                img.src = `https://img.shields.io/badge/Citations-${num_citation}-blue.svg?logo=google-scholar`;
                            }
                        }
                    });
                })
                .catch(error => {
                    console.error('Error loading badges:', img, error);
                });
        }

        function clickEffects(event) {
            let words = [
                "CVPR", "ICCV", "ECCV",
                "ICML", "NeurIPS", "ICLR",
                "AAAI", "IJCAI", "ACM MM",
                "IEEE Trans", 
            ];
            words = words.map(word => word + '+1');

            const span = document.createElement("span");
            span.textContent = words[Math.floor(Math.random() * words.length)];
            span.style.position = "absolute";
            span.style.left = event.pageX + "px";
            span.style.top = event.pageY + "px";
            //span.style.fontSize = "20px";
            span.style.fontWeight = "600";
            span.style.color = "#ae1324";
            span.style.zIndex = 9999;
            span.style.transition = "all 1.2s ease-out";
            document.body.appendChild(span);

            setTimeout(() => {
              span.style.top = (event.pageY - 60) + "px";
              span.style.opacity = 0;
            }, 10);
        
            setTimeout(() => span.remove(), 1300);
        }

        // é¡µé¢åŠ è½½åæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', renderPage);
        document.addEventListener("click", clickEffects);
    </script>
</body>

<div id="visitor-stats" style="margin-top: 50px; padding-top: 20px; border-top: 1px solid #eee; text-align: center;">
    
    <h3>ğŸŒ Visitor Map</h3>
    
    <div style="max-width: 600px; margin: 0 auto;">
        <script type='text/javascript' id='mapmyvisitors' src='https://mapmyvisitors.com/map.js?cl=ffffff&w=600&t=tt&d=86XgUPWCNrbBos3YqfbgpvhEB-Q5701-DCyYYhIKswg&co=6b9ac8&cmo=c91f37&cmn=038355'></script>
    </div>

    <p style="font-size: 12px; color: #999;">
        (Click the map above to view the detailed <strong>History Line Chart</strong>)
    </p>
</div>

</html>

